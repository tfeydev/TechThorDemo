<h2 mat-dialog-title>Edit Source</h2>
<form [formGroup]="editForm">
  <mat-form-field appearance="fill">
    <mat-label>Source Name</mat-label>
    <input matInput formControlName="name" placeholder="Enter source name" />
    <mat-error *ngIf="editForm.get('name')?.invalid && editForm.get('name')?.touched">
      Name is required.
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Source Type</mat-label>
    <input matInput formControlName="type" placeholder="Enter source type" />
    <mat-error *ngIf="editForm.get('type')?.invalid && editForm.get('type')?.touched">
      Type is required.
    </mat-error>
  </mat-form-field>

  <mat-form-field *ngIf="editForm.get('type')?.value === 'csv'" appearance="fill">
    <mat-label>File Path</mat-label>
    <input matInput formControlName="file_path" placeholder="Enter file path" />
  </mat-form-field>

  <mat-form-field *ngIf="editForm.get('type')?.value === 'json'" appearance="fill">
    <mat-label>File Path</mat-label>
    <input matInput formControlName="file_path" placeholder="Enter file path" />
  </mat-form-field>

  <mat-form-field *ngIf="editForm.get('type')?.value === 'api'" appearance="fill">
    <mat-label>API URL</mat-label>
    <input matInput formControlName="url" placeholder="Enter API URL" />
  </mat-form-field>

  <div *ngIf="editForm.get('type')?.value === 'database'">
    <mat-form-field appearance="fill">
      <mat-label>Database Connection</mat-label>
      <textarea
        matInput
        formControlName="connection"
        placeholder="Enter connection details as JSON"
      ></textarea>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Tables</mat-label>
      <input matInput formControlName="tables" placeholder="Enter table names (comma-separated)" />
    </mat-form-field>
  </div>

  <div mat-dialog-actions class="flex-end">
    <button mat-button (click)="cancel()">Cancel</button>
    <button mat-raised-button color="primary" (click)="save()" [disabled]="editForm.invalid">
      Save
    </button>
  </div>
</form>
